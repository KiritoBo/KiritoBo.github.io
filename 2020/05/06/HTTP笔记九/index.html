<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <meta name="description" content="HTML/CSS　　|　　JS　　|　　769251633@qq.com　　|　　 未来的旅程是如此遥远，能见到的光明却是如此稀少。即使如此——我仍然没有完全放弃希望。" />
  

  
  
  
  
  
  
  <title>HTTP笔记九 | KiritoBo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="基于HTTP的功能追加HTTP的瓶颈 一条连接上只可发送一个请求。 请求只能从客户端开始，客户端不可以接收除响应以外的指令。 请求&#x2F;响应首部未经压缩就发送，首部信息越多延迟越大。 发送冗长的首部，每次互相发送相同的首部造成的浪费较多。 可以任意选择数据压缩格式，非强制压缩发送。  Ajax解决办法Ajax（异步 JavaScript 与 XML 技术）是一种有效利用 JavaScript 和 DO">
<meta property="og:type" content="article">
<meta property="og:title" content="HTTP笔记九">
<meta property="og:url" content="https://github.com/KiritoBo/KiritoBo.github.io/2020/05/06/HTTP%E7%AC%94%E8%AE%B0%E4%B9%9D/index.html">
<meta property="og:site_name" content="KiritoBo">
<meta property="og:description" content="基于HTTP的功能追加HTTP的瓶颈 一条连接上只可发送一个请求。 请求只能从客户端开始，客户端不可以接收除响应以外的指令。 请求&#x2F;响应首部未经压缩就发送，首部信息越多延迟越大。 发送冗长的首部，每次互相发送相同的首部造成的浪费较多。 可以任意选择数据压缩格式，非强制压缩发送。  Ajax解决办法Ajax（异步 JavaScript 与 XML 技术）是一种有效利用 JavaScript 和 DO">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-05-06T10:37:24.000Z">
<meta property="article:modified_time" content="2020-05-06T11:32:09.213Z">
<meta property="article:author" content="KiritoBo">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" href="/css/images/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  

  
  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>
<meta name="generator" content="Hexo 4.2.0"></head>
<body class="home blog custom-background custom-font-enabled single-author">
  <div id="page" class="hfeed site">
      <header id="masthead" class="site-header" role="banner">
    <hgroup>
      <h1 class="site-title">
        <a href="/" title="KiritoBo" rel="home">KiritoBo</a>
      </h1>
      
        <h2 class="site-description">
          <a href="/" id="subtitle">HTML/CSS　　|　　JS　　|　　769251633@qq.com　　|　　 未来的旅程是如此遥远，能见到的光明却是如此稀少。即使如此——我仍然没有完全放弃希望。</a>
        </h2>
      
    </hgroup>

    <nav id="site-navigation" class="main-navigation" role="navigation">
            <button class="menu-toggle">菜单</button>
            <a class="assistive-text" href="/#content" title="跳至内容">跳至内容</a><!--TODO-->
            <div class="menu-main-container">
                <ul id="menu-main" class="nav-menu">
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Home</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/archives">Archives</a></li>
                
                </ul>
            </div>
    </nav>
</header>

      <div id="main" class="wrapper">
        <div id="primary" class="site-content"><div id="content" role="main"><article id="title-HTTP笔记九" class="title-HTTP笔记九 post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        
  
    <h1 class="entry-title article-title">
      HTTP笔记九
    </h1>
  

        
        <div class="comments-link">
            
            <a href="javascript:void(0);" data-url="https://github.com/KiritoBo/KiritoBo.github.io/2020/05/06/HTTP%E7%AC%94%E8%AE%B0%E4%B9%9D/" data-id="ck9v9ib7900009cq4bo5z93qw" class="leave-reply bdsharebuttonbox" data-cmd="more">Share</a>
        </div><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
        <h3 id="基于HTTP的功能追加"><a href="#基于HTTP的功能追加" class="headerlink" title="基于HTTP的功能追加"></a>基于HTTP的功能追加</h3><h4 id="HTTP的瓶颈"><a href="#HTTP的瓶颈" class="headerlink" title="HTTP的瓶颈"></a>HTTP的瓶颈</h4><ul>
<li>一条连接上只可发送一个请求。</li>
<li>请求只能从客户端开始，客户端不可以接收除响应以外的指令。</li>
<li>请求/响应首部未经压缩就发送，首部信息越多延迟越大。</li>
<li>发送冗长的首部，每次互相发送相同的首部造成的浪费较多。</li>
<li>可以任意选择数据压缩格式，非强制压缩发送。</li>
</ul>
<h4 id="Ajax解决办法"><a href="#Ajax解决办法" class="headerlink" title="Ajax解决办法"></a>Ajax解决办法</h4><p>Ajax（异步 JavaScript 与 XML 技术）是一种有效利用 JavaScript 和 DOM 的操作，以达到局部 Web 页面替换加载的异步通信手段。和以前的同步通信相比，由于它只更新一部分页面，响应中传输的数据量会因此而减少。<br>Ajax 的核心技术是名为 XMLHttpRequest 的 API，通过 JavaScript 脚本语言的调用就能和服务器进行 HTTP 通信，进而只更新局部页面。<br>利用 Ajax 实时地从服务器获取内容，有可能会导致大量请求产生。另外，Ajax 仍未解决 HTTP 协议本身存在的问题。</p>
<h4 id="Comet-的解决方法"><a href="#Comet-的解决方法" class="headerlink" title="Comet 的解决方法"></a>Comet 的解决方法</h4><p>Comet 会先将响应置于挂起状态，在服务器端更新时不会让请求等待，直接给客户端返回响应，通过延迟应答模拟实现服务器端向客户端推送的功能。<br>内容上虽然可以做到实时更新，但为了保留响应，一次连接的持续时间也变长了。期间，为了维持连接会消耗更多的资源。另外，Comet 也仍未解决 HTTP 协议本身存在的问题。</p>
<a id="more"></a>
<h4 id="SPDY"><a href="#SPDY" class="headerlink" title="SPDY"></a>SPDY</h4><p>在SSL层上增加一个SPDY会话层，以在一个TCP连接中实现并发流。<br>优点：</p>
<ul>
<li>将页面加载时间减少50%。</li>
<li>最大限度地减少部署的复杂性。SPDY使用TCP作为传输层，因此无需改变现有的网络设施。</li>
<li>避免网站开发者改动内容。 支持SPDY唯一需要变化的是客户端代理和Web服务器应用程序。</li>
</ul>
<p>具体技术目标：</p>
<ul>
<li>单个TCP连接支持并发的HTTP请求。</li>
<li>压缩报头和去掉不必要的头部来减少当前HTTP使用的带宽。</li>
<li>定义一个容易实现，在服务器端高效率的协议。通过减少边缘情况、定义易解析的消息格式来减少HTTP的复杂性。</li>
<li>强制使用SSL，让SSL协议在现存的网络设施下有更好的安全性和兼容性。</li>
<li>允许服务器在需要时发起对客户端的连接并推送数据。</li>
</ul>
<p>功能：</p>
<ul>
<li>多路复用流：通过单一的 TCP 连接，可以无限制处理多个 HTTP 请求。</li>
<li>赋予请求优先级：可以给请求逐个分配优先级顺序，解决因带宽低而导致响应变慢的问题。</li>
<li>压缩HTTP首部：压缩请求和响应首部，通信产生的数据包数量和发送的字节数就更少了。</li>
<li>推送功能：支持服务器主动向客户端推送数据的功能。</li>
<li>服务器提示功能：服务器可以主动提示客户端请求所需的资源，避免发送不必要的请求。</li>
</ul>
<p><strong>目前SPDY基本已经被HTTP2.0取代。</strong></p>
<h4 id="HTTP2-0（HTTP-2"><a href="#HTTP2-0（HTTP-2" class="headerlink" title="HTTP2.0（HTTP/2)"></a>HTTP2.0（HTTP/2)</h4><p>HTTP2.0是HTTP协议的第二个主要版本，大幅提高了web性能。<br>特点：</p>
<ol>
<li>二进制传输：<br>在HTTP2.0中引入了新的编码机制，所有传输的数据都会被分割，并采用二进制格式编码。<br>在应用层（HTTP2.0)和传输层（TCP or UDP）之间增加一个二进制分帧层。在二进制分帧层上，HTTP2.0会将所有传输的信息分为更小的消息和帧，并采用二进制格式编码，其中HTTP1.x的首部信息会被封装到Headers帧，而Request Body则封装到Data帧。</li>
<li>多路复用：<br>首先了解帧（frame）和流（stream）的概念，帧是最小的数据单位，每个帧会标识出该帧属于哪个流，流是多个帧组成的数据流。<br>多路复用就是在一个TCP连接中存在多个流，就是可以同时发送多个请求，服务器端可以通过帧中的表示知道该帧属于哪个请求。在客户端，这些帧乱序发送，到服务器端后再根据每个帧首部的流标识符重新组装。通过该技术，可以避免HTTP旧版本的队头阻塞问题，极大提高传输性能。</li>
<li>Header压缩<br>使用HPACK（HTTP2头部压缩算法）压缩格式对传输的header进行编码，减少了 header 的大小。并在两端维护了索引表，用于记录出现过的header，后面在传输过程中就可以传输已经记录过的header的键名，对端收到数据后就可以通过键名找到对应的值。</li>
<li>服务器Push<br>在HTTP2.0中，服务端可以在客户端某个请求后，主动推送其他资源。</li>
<li>更安全<br>HTTP2.0使用了 tls 的拓展 ALPN 作为协议升级，除此之外，HTTP2.0 对 tls 的安全性做了进一步加强，通过黑名单机制禁用了几百种不再安全的加密算法。</li>
</ol>

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    <a href="/2020/05/06/HTTP%E7%AC%94%E8%AE%B0%E4%B9%9D/">
    <time datetime="2020-05-06T10:37:24.000Z" class="entry-date">
        2020-05-06
    </time>
</a>
    
    
    </footer>
</article>


    
<nav class="nav-single">
    <h3 class="assistive-text">文章导航</h3>
    
    
        <span class="nav-next"><a href="/2020/05/01/HTTP%E7%AC%94%E8%AE%B0%E5%85%AB/" rel="next">HTTP笔记八 <span class="meta-nav">→</span></a></span>
    
</nav><!-- .nav-single -->







</div></div>
        <div id="secondary" class="widget-area" role="complementary">
  
    <aside id="search" class="widget widget_search"><form role="search" method="get" accept-charset="utf-8" id="searchform" class="searchform" action="//google.com/search">
    <div>
        <input type="text" value="" name="s" id="s" />
        <input type="submit" id="searchsubmit" value="搜索" />
    </div>
</form></aside>
  
    
  
    
  
    
  <aside class="widget">
    <h3 class="widget-title">Recents</h3>
    <div class="widget-content">
      <ul>
        
          <li>
            <a href="/2020/05/06/HTTP%E7%AC%94%E8%AE%B0%E4%B9%9D/">HTTP笔记九</a>
          </li>
        
          <li>
            <a href="/2020/05/01/HTTP%E7%AC%94%E8%AE%B0%E5%85%AB/">HTTP笔记八</a>
          </li>
        
          <li>
            <a href="/2020/04/30/HTTP%E7%AC%94%E8%AE%B0%E4%B8%83/">HTTP笔记七</a>
          </li>
        
          <li>
            <a href="/2020/04/29/HTTP%E7%AC%94%E8%AE%B0%E5%85%AD%EF%BC%884%EF%BC%89/">HTTP笔记六（4）</a>
          </li>
        
          <li>
            <a href="/2020/04/28/HTTP%E7%AC%94%E8%AE%B0%E5%85%AD%EF%BC%883%EF%BC%89/">HTTP笔记六（3）</a>
          </li>
        
      </ul>
    </div>
  </aside>

  
    
  
    
  
</div>
      </div>
      <footer id="colophon" role="contentinfo">
    <p>&copy; 2020 KiritoBo
    All rights reserved.</p>
    <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</footer>
    <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/js/share.js'];</script>

<script src="/js/jquery-3.3.1.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/navigation.js"></script>

<div id="bg"></div>

  </div>
</body>
</html>